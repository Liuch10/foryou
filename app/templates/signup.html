<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>注册</title>
    <link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/4.0.0-beta/css/bootstrap.css">
    <script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"></script>
    <script src="https://cdn.bootcss.com/popper.js/1.12.5/umd/popper.min.js"></script>
    <script src="https://cdn.bootcss.com/bootstrap/4.0.0-beta/js/bootstrap.js"></script>
    <style>
        body {
            margin: 0;
            background-color: #2D343C
        }
    </style>
</head>
<body>
<div class="container" style="padding-top:10% ;">
    <div class="text-center"><!-- 图片 logo-->
        <img src="/static/img/logo.png"/>
    </div>
    <div id="navigation" style="padding-left:15% ;padding-right: 15%;padding-top: 5%;padding-bottom: 4%;">
        <div class="row">
            <div class="col">
                <img src="/static/img/SetUserTypePress.png" class="img-fluid" id="steponeimage"/>
            </div>
            <div class="col">
                <img src="/static/img/PersonInfoRelease.png" class="img-fluid" id="steptwoimage"/>
            </div>
            <div class="col">
                <img src="/static/img/RegisterSuccessRelease.png" class="img-fluid" id="stepthreeimage"/>
            </div>
        </div>
    </div>
    <form action="/sign-up" method="post" name="sign_up">
        <div id="stepone">

            <div class="row text-white">
                <div class="col-6 text-right">
                    <div>
                        <label for="usertype">用户类型</label>
                    </div>
                    <div>
                        <!--   <label for="unit">单位名称</label>-->
                    </div>
                    <div>
                        <label for="province">省份</label>
                    </div>
                </div>
                <div class="col-6 text-left">
                    <div>
                        {{form.user_type}}
                        <!--<label class="radio-inline"><input type="radio" name="optradio">医生</label>
                        <label class="radio-inline"><input type="radio" name="optradio">普通用户</label>-->
                    </div>

                    <div style="padding-top: 5px;padding-bottom:5px ;">
                        {{form.user_city(class_="bg-secondary text-white border-0 align-middle" )}}
                        <!-- <select class="bg-secondary text-white border-0 align-middle" id="province">
                             <option>北京</option>
                             <option>江西</option>
                             <option>内蒙古</option>
                             <option>云南</option>
                         </select>-->
                    </div>
                </div>
            </div>
            <div class="text-white text-center" style="padding-top: 5%;">
                <button type="button" class="btn btn-secondary btn-sm" onclick="changeImage(2)">下一步</button>
            </div>

        </div>
        <div id="steptwo" style="display: none">

            <div class="row text-white">
                <div class="col-6 text-right">
                    <div>
                        <label for="email">邮箱:</label>
                    </div>
                    <div>
                        <label for="pwd">密码:</label>
                    </div>
                    <div>
                        <label for="confirepwd">确认密码:</label>
                    </div>
                    <div>
                        <label for="hospital">医院:</label>
                    </div>
                    <div>
                        <label for="department">科室:</label>
                    </div>
                    <div>
                        <label for="phone">手机号:</label>
                    </div>
                    <div>
                        <label for="verification">验证码:</label>
                    </div>
                </div>
                <div class="col-6 text-left">
                    <div>
                        {{form.user_mail(class_="bg-secondary border-0 text-white",style="margin-bottom:
                        5px;margin-top:1px ;")}}
                    </div>
                    <div>
                        {{form.user_password(class_="bg-secondary border-0 text-white",style="margin-bottom:
                        5px;margin-top:1px ;")}}
                    </div>
                    <div>
                        {{form.user_confirm_password(class_="bg-secondary border-0 text-white",style="margin-bottom:
                        5px;margin-top:1px ;")}}
                    </div>
                    <div>
                        {{form.user_hospital(class_="bg-secondary border-0 text-white",style="margin-bottom:
                        5px;margin-top:1px ;")}}
                    </div>
                    <div>
                        {{form.user_department(class_="bg-secondary border-0 text-white",style="margin-bottom:
                        5px;margin-top:1px ;")}}
                    </div>
                    <div>
                        {{form.user_phone(class_="bg-secondary border-0 text-white",style="margin-bottom:
                        5px;margin-top:1px ;")}}
                    </div>
                    <div>
					      <span>
                            {{form.user_verification_code(class_="bg-secondary border-0 text-white",style="margin-bottom:
                            5px;margin-top:1px ;")}}
					      	<button id="sendcode" type="button"
                                    class="btn-sm bg-secondary border-0 text-white">发送验证码</button>
					      </span>
                    </div>
                </div>
            </div>
            <div class="text-white text-center" style="padding-top: 5%;">
					<span>
                        {{form.submit(class_="btn btn-secondary btn-sm")}}
					</span>
            </div>

        </div>
    </form>

    <script>
        $(function () {
            $("#sendcode").click(function () {
                var user_mail = $('#user_mail').val();
                var data = {
                    data: JSON.stringify({
                        'user_mail': user_mail,
                    }),
                }
                $.ajax({
                    url: '/sendMail',
                    type: 'POST',
                    data: data,
                    dataType: 'json',
                    success: function (res) {
                        $('#sendcode').val = '已发送'
                    },
                    error: function (res) {
                        $('#sendcode').val = '发送失败'
                    }

                })
            })
        })
    </script>
    <script>
        function changeImage(page) {
            switch (page) {
                case 1:
                    document.getElementById("stepone").style.display = "inline";
                    document.getElementById("steptwo").style.display = "none";
                    document.getElementById("steponeimage").src = '/static/img/SetUserTypePress.png';
                    document.getElementById("steptwoimage").src = '/static/img/PersonInfoRelease.png';
                    document.getElementById("stepthreeimage").src = '/static/img/RegisterSuccessRelease.png';
                    break;
                case 2:
                    document.getElementById("stepone").style.display = "none";
                    document.getElementById("steptwo").style.display = "inline";
                    document.getElementById("steponeimage").src = '/static/img/SetUserTypePress.png';
                    document.getElementById("steptwoimage").src = '/static/img/PersonInfoPress.png';
                    document.getElementById("stepthreeimage").src = '/static/img/RegisterSuccessRelease.png';
                    break;
                default:
                    break;
            }
        };
    </script>
</body>
</html>